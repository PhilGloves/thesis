<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Scratch Hologram Simulation</title>
  <style>
    body { margin: 0; font-family: Segoe UI, Arial, sans-serif; background: #17181d; color: #f0f0f0; }
    .wrap { padding: 12px; max-width: 1200px; margin: 0 auto; }
    .toolbar { display: flex; gap: 16px; align-items: center; flex-wrap: wrap; margin-bottom: 10px; }
    .toolbar label { font-size: 14px; }
    .panel { background: #20222a; border: 1px solid #2d313a; border-radius: 8px; padding: 10px; }
    canvas { background: #0f1014; display: block; border-radius: 6px; width: 100%; height: auto; }
    input[type=range] { width: 280px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="toolbar panel">
      <label>View angle: <input id="angle" type="range" min="-90" max="90" step="1" value="0"/></label>
      <strong id="angleValue">0°</strong>
      <label><input id="showArcs" type="checkbox" checked/> Show arcs</label>
      <label><input id="showWire" type="checkbox" checked/> Show simulated profile</label>
    </div>
    <div class="panel">
      <canvas id="sim" width="246" height="247"></canvas>
    </div>
  </div>
  <script>
    const data = {"nView":-366.4169001739658,"offsetX":-220.0,"offsetY":-288.0,"paths":[[[279.21,439.542,-437.679],[278.723,440.77,-435.601],[278.235,441.999,-433.524],[277.748,443.227,-431.446],[277.261,444.455,-429.368],[276.774,445.684,-427.29],[276.287,446.912,-425.212],[275.8,448.14,-423.134],[275.313,449.369,-421.056],[274.826,450.597,-418.978],[274.339,451.825,-416.9],[273.852,453.053,-414.823],[273.365,454.282,-412.745],[272.878,455.51,-410.667],[272.391,456.738,-408.589],[271.904,457.967,-406.511],[271.417,459.195,-404.433],[270.93,460.423,-402.355],[270.443,461.652,-400.277],[269.956,462.88,-398.199],[269.469,464.108,-396.122],[268.981,465.336,-394.044],[268.494,466.565,-391.966],[268.007,467.793,-389.888],[267.52,469.021,-387.81],[267.033,470.25,-385.732],[266.546,471.478,-383.654],[266.059,472.706,-381.576],[265.572,473.934,-379.498]],[[265.516,323.327,-379.291],[266.009,322.926,-381.392],[266.501,322.525,-383.494],[266.994,322.123,-385.596],[267.487,321.722,-387.697],[267.979,321.321,-389.799],[268.472,320.919,-391.9],[268.965,320.518,-394.002],[269.457,320.117,-396.104],[269.95,319.716,-398.205],[270.443,319.314,-400.307],[270.935,318.913,-402.409],[271.428,318.512,-404.51],[271.921,318.11,-406.612],[272.413,317.709,-408.713],[272.906,317.308,-410.815],[273.399,316.907,-412.917],[273.891,316.505,-415.018],[274.384,316.104,-417.12],[274.877,315.703,-419.222],[275.369,315.301,-421.323],[275.862,314.9,-423.425],[276.355,314.499,-425.526],[276.847,314.098,-427.628],[277.34,313.696,-429.73],[277.833,313.295,-431.831],[278.325,312.894,-433.933],[278.818,312.492,-436.034]],[[278.818,312.492,-436.034],[278.831,316.591,-436.088],[278.843,320.689,-436.141],[278.856,324.788,-436.194],[278.868,328.886,-436.247],[278.881,332.984,-436.3],[278.894,337.083,-436.353],[278.906,341.181,-436.406],[278.919,345.279,-436.459],[278.932,349.378,-436.512],[278.944,353.476,-436.565],[278.957,357.575,-436.618],[278.97,361.673,-436.671],[278.982,365.771,-436.724],[278.995,369.87,-436.777],[279.007,373.968,-436.83],[279.02,378.066,-436.883],[279.033,382.165,-436.936],[279.045,386.263,-436.99],[279.058,390.362,-437.043],[279.071,394.46,-437.096],[279.083,398.558,-437.149],[279.096,402.657,-437.202],[279.109,406.755,-437.255],[279.121,410.854,-437.308],[279.134,414.952,-437.361],[279.146,419.05,-437.414],[279.159,423.149,-437.467],[279.172,427.247,-437.52],[279.184,431.345,-437.573],[279.197,435.444,-437.626],[279.21,439.542,-437.679]],[[416.157,323.304,-379.409],[415.809,322.903,-381.51],[415.461,322.502,-383.61],[415.113,322.101,-385.71],[414.765,321.7,-387.811],[414.418,321.299,-389.911],[414.07,320.898,-392.012],[413.722,320.497,-394.112],[413.374,320.096,-396.212],[413.027,319.695,-398.313],[412.679,319.294,-400.413],[412.331,318.893,-402.513],[411.983,318.492,-404.614],[411.635,318.091,-406.714],[411.288,317.69,-408.815],[410.94,317.289,-410.915],[410.592,316.888,-413.015],[410.244,316.487,-415.116],[409.896,316.086,-417.216],[409.549,315.685,-419.317],[409.201,315.283,-421.417],[408.853,314.882,-423.517],[408.505,314.481,-425.618],[408.157,314.08,-427.718],[407.81,313.679,-429.818],[407.462,313.278,-431.919],[407.114,312.877,-434.019],[406.766,312.476,-436.12]],[[406.766,312.476,-436.12],[402.639,312.477,-436.117],[398.512,312.477,-436.114],[394.384,312.478,-436.111],[390.257,312.478,-436.109],[386.129,312.479,-436.106],[382.002,312.479,-436.103],[377.875,312.48,-436.1],[373.747,312.48,-436.098],[369.62,312.481,-436.095],[365.493,312.481,-436.092],[361.365,312.482,-436.089],[357.238,312.482,-436.087],[353.111,312.483,-436.084],[348.983,312.484,-436.081],[344.856,312.484,-436.078],[340.728,312.485,-436.076],[336.601,312.485,-436.073],[332.474,312.486,-436.07],[328.346,312.486,-436.067],[324.219,312.487,-436.065],[320.092,312.487,-436.062],[315.964,312.488,-436.059],[311.837,312.488,-436.056],[307.709,312.489,-436.054],[303.582,312.489,-436.051],[299.455,312.49,-436.048],[295.327,312.49,-436.045],[291.2,312.491,-436.043],[287.073,312.491,-436.04],[282.945,312.492,-436.037],[278.818,312.492,-436.034]],[[416.129,473.865,-379.617],[415.786,472.637,-381.693],[415.442,471.409,-383.77],[415.098,470.182,-385.847],[414.754,468.954,-387.923],[414.41,467.727,-390.0],[414.066,466.499,-392.077],[413.722,465.272,-394.153],[413.378,464.044,-396.23],[413.034,462.816,-398.307],[412.69,461.589,-400.383],[412.347,460.361,-402.46],[412.003,459.134,-404.537],[411.659,457.906,-406.613],[411.315,456.678,-408.69],[410.971,455.451,-410.767],[410.627,454.223,-412.843],[410.283,452.996,-414.92],[409.939,451.768,-416.997],[409.595,450.541,-419.074],[409.251,449.313,-421.15],[408.908,448.085,-423.227],[408.564,446.858,-425.304],[408.22,445.63,-427.38],[407.876,444.403,-429.457],[407.532,443.175,-431.534],[407.188,441.948,-433.61],[406.844,440.72,-435.687],[406.5,439.492,-437.764]],[[406.5,439.492,-437.764],[406.509,435.395,-437.711],[406.517,431.298,-437.658],[406.526,427.2,-437.605],[406.535,423.103,-437.551],[406.543,419.006,-437.498],[406.552,414.909,-437.445],[406.56,410.811,-437.392],[406.569,406.714,-437.339],[406.578,402.617,-437.286],[406.586,398.519,-437.233],[406.595,394.422,-437.18],[406.603,390.325,-437.127],[406.612,386.228,-437.074],[406.62,382.13,-437.021],[406.629,378.033,-436.968],[406.638,373.936,-436.915],[406.646,369.838,-436.862],[406.655,365.741,-436.809],[406.663,361.644,-436.756],[406.672,357.546,-436.703],[406.681,353.449,-436.65],[406.689,349.352,-436.597],[406.698,345.255,-436.544],[406.706,341.157,-436.491],[406.715,337.06,-436.438],[406.723,332.963,-436.385],[406.732,328.865,-436.332],[406.741,324.768,-436.279],[406.749,320.671,-436.226],[406.758,316.573,-436.173],[406.766,312.476,-436.12]],[[279.21,439.542,-437.679],[283.316,439.541,-437.682],[287.422,439.539,-437.685],[291.528,439.537,-437.687],[295.634,439.536,-437.69],[299.74,439.534,-437.693],[303.846,439.533,-437.696],[307.953,439.531,-437.698],[312.059,439.529,-437.701],[316.165,439.528,-437.704],[320.271,439.526,-437.706],[324.377,439.525,-437.709],[328.483,439.523,-437.712],[332.59,439.521,-437.715],[336.696,439.52,-437.717],[340.802,439.518,-437.72],[344.908,439.516,-437.723],[349.014,439.515,-437.726],[353.12,439.513,-437.728],[357.226,439.512,-437.731],[361.333,439.51,-437.734],[365.439,439.508,-437.736],[369.545,439.507,-437.739],[373.651,439.505,-437.742],[377.757,439.504,-437.745],[381.863,439.502,-437.747],[385.969,439.5,-437.75],[390.076,439.499,-437.753],[394.182,439.497,-437.755],[398.288,439.496,-437.758],[402.394,439.494,-437.761],[406.5,439.492,-437.764]]],"arcs":[[259,474,13,13,180],[258,473,15,15,180],[258,471,17,17,180],[257,470,19,19,180],[257,469,21,21,180],[256,468,23,23,180],[256,467,26,26,180],[255,465,28,28,180],[255,464,30,30,180],[254,463,32,32,180],[254,462,34,34,180],[253,460,36,36,180],[252,459,38,38,180],[252,458,40,40,180],[251,457,42,42,180],[251,456,44,44,180],[250,454,46,46,180],[250,453,48,48,180],[249,452,50,50,180],[249,451,53,53,180],[248,449,55,55,180],[247,448,57,57,180],[247,447,59,59,180],[246,446,61,61,180],[246,444,63,63,180],[245,443,65,65,180],[245,442,67,67,180],[244,441,69,69,180],[244,440,71,71,180],[259,323,13,13,180],[259,323,15,15,180],[258,323,17,17,180],[257,322,19,19,180],[257,322,21,21,180],[256,321,23,23,180],[256,321,25,25,180],[255,321,28,28,180],[255,320,30,30,180],[254,320,32,32,180],[253,319,34,34,180],[253,319,36,36,180],[252,319,38,38,180],[252,318,40,40,180],[251,318,42,42,180],[251,317,44,44,180],[250,317,46,46,180],[250,317,49,49,180],[249,316,51,51,180],[248,316,53,53,180],[248,315,55,55,180],[247,315,57,57,180],[247,314,59,59,180],[246,314,61,61,180],[246,314,63,63,180],[245,313,65,65,180],[245,313,68,68,180],[244,312,70,70,180],[244,317,70,70,180],[244,321,70,70,180],[244,325,70,70,180],[244,329,70,70,180],[244,333,70,70,180],[244,337,70,70,180],[244,341,70,70,180],[244,345,70,70,180],[244,349,70,70,180],[244,353,70,70,180],[244,358,70,70,180],[244,362,70,70,180],[244,366,70,70,180],[244,370,70,70,180],[244,374,70,70,180],[244,378,70,70,180],[244,382,71,71,180],[244,386,71,71,180],[244,390,71,71,180],[244,394,71,71,180],[244,399,71,71,180],[244,403,71,71,180],[244,407,71,71,180],[244,411,71,71,180],[244,415,71,71,180],[244,419,71,71,180],[244,423,71,71,180],[244,427,71,71,180],[244,431,71,71,180],[244,435,71,71,180],[372,312,70,70,180],[373,313,68,68,180],[375,313,66,66,180],[376,314,63,63,180],[378,314,61,61,180],[379,314,59,59,180],[380,315,57,57,180],[382,315,55,55,180],[383,316,53,53,180],[384,316,51,51,180],[386,316,49,49,180],[387,317,47,47,180],[389,317,44,44,180],[390,318,42,42,180],[391,318,40,40,180],[393,318,38,38,180],[394,319,36,36,180],[396,319,34,34,180],[397,320,32,32,180],[398,320,30,30,180],[400,320,28,28,180],[401,321,26,26,180],[403,321,23,23,180],[404,322,21,21,180],[405,322,19,19,180],[407,323,17,17,180],[408,323,15,15,180],[410,323,13,13,180],[248,312,70,70,180],[252,312,70,70,180],[256,312,70,70,180],[261,312,70,70,180],[265,312,70,70,180],[269,312,70,70,180],[273,312,70,70,180],[277,312,70,70,180],[281,312,70,70,180],[285,312,70,70,180],[289,312,70,70,180],[294,312,70,70,180],[298,312,70,70,180],[302,312,70,70,180],[306,312,70,70,180],[310,312,70,70,180],[314,312,70,70,180],[318,312,70,70,180],[322,312,70,70,180],[327,312,70,70,180],[331,312,70,70,180],[335,312,70,70,180],[339,312,70,70,180],[343,312,70,70,180],[347,312,70,70,180],[351,312,70,70,180],[355,312,70,70,180],[360,312,70,70,180],[364,312,70,70,180],[368,312,70,70,180],[371,439,71,71,180],[372,441,69,69,180],[374,442,67,67,180],[375,443,65,65,180],[376,444,63,63,180],[378,446,61,61,180],[379,447,59,59,180],[381,448,57,57,180],[382,449,55,55,180],[383,451,53,53,180],[385,452,51,51,180],[386,453,49,49,180],[387,454,46,46,180],[389,455,44,44,180],[390,457,42,42,180],[392,458,40,40,180],[393,459,38,38,180],[394,460,36,36,180],[396,462,34,34,180],[397,463,32,32,180],[398,464,30,30,180],[400,465,28,28,180],[401,466,26,26,180],[403,468,24,24,180],[404,469,22,22,180],[405,470,19,19,180],[407,471,17,17,180],[408,473,15,15,180],[410,474,13,13,180],[371,435,71,71,180],[371,431,71,71,180],[371,427,71,71,180],[371,423,71,71,180],[371,419,71,71,180],[371,415,71,71,180],[371,411,71,71,180],[371,407,71,71,180],[371,403,71,71,180],[371,399,71,71,180],[371,394,71,71,180],[371,390,71,71,180],[371,386,71,71,180],[371,382,71,71,180],[371,378,71,71,180],[371,374,70,70,180],[371,370,70,70,180],[371,366,70,70,180],[371,362,70,70,180],[372,358,70,70,180],[372,353,70,70,180],[372,349,70,70,180],[372,345,70,70,180],[372,341,70,70,180],[372,337,70,70,180],[372,333,70,70,180],[372,329,70,70,180],[372,325,70,70,180],[372,321,70,70,180],[372,317,70,70,180],[248,440,71,71,180],[252,440,71,71,180],[256,440,71,71,180],[260,440,71,71,180],[264,440,71,71,180],[268,440,71,71,180],[272,440,71,71,180],[276,440,71,71,180],[281,440,71,71,180],[285,440,71,71,180],[289,440,71,71,180],[293,440,71,71,180],[297,440,71,71,180],[301,440,71,71,180],[305,440,71,71,180],[309,440,71,71,180],[313,440,71,71,180],[317,440,71,71,180],[322,440,71,71,180],[326,440,71,71,180],[330,440,71,71,180],[334,440,71,71,180],[338,440,71,71,180],[342,440,71,71,180],[346,440,71,71,180],[350,440,71,71,180],[354,439,71,71,180],[359,439,71,71,180],[363,439,71,71,180],[367,439,71,71,180]]};
    const canvas = document.getElementById('sim');
    const ctx = canvas.getContext('2d');
    const angleInput = document.getElementById('angle');
    const angleValue = document.getElementById('angleValue');
    const showArcs = document.getElementById('showArcs');
    const showWire = document.getElementById('showWire');
    function pointAtAngle(p, deg) {
      const dist = p[2] - data.nView;
      const cx = p[0];
      const cy = p[1] - dist / 2.0;
      const oy = dist / 2.0;
      const t = deg * Math.PI / 180.0;
      const x = cx - oy * Math.sin(t);
      const y = cy + oy * Math.cos(t);
      return [x, y];
    }
    function draw() {
      const angle = Number(angleInput.value);
      angleValue.textContent = `${angle.toFixed(0)}°`;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      if (showArcs.checked) {
        ctx.strokeStyle = 'rgba(190, 190, 190, 0.22)';
        ctx.lineWidth = 1;
        for (const a of data.arcs) {
          const x = a[0] + data.offsetX;
          const y = a[1] + data.offsetY;
          const w = a[2];
          const h = a[3];
          const startDeg = a[4];
          const cx = x + w / 2.0;
          const cy = y + h / 2.0;
          const r = w / 2.0;
          const start = (startDeg === 0) ? 0 : Math.PI;
          ctx.beginPath();
          ctx.arc(cx, cy, r, start, start + Math.PI, false);
          ctx.stroke();
        }
      }
      if (showWire.checked) {
        ctx.strokeStyle = '#f5f5f5';
        ctx.lineWidth = 1.4;
        for (const path of data.paths) {
          if (path.length < 2) continue;
          ctx.beginPath();
          for (let i = 0; i < path.length; i++) {
            const p = pointAtAngle(path[i], angle);
            const x = p[0] + data.offsetX;
            const y = p[1] + data.offsetY;
            if (i === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
          }
          ctx.stroke();
        }
      }
    }
    angleInput.addEventListener('input', draw);
    showArcs.addEventListener('change', draw);
    showWire.addEventListener('change', draw);
    draw();
  </script>
</body>
</html>
